import{r as a,d as n,U as l,j as e,S as D,B as b,I as N,J as o}from"./index-DqxhmwNT.js";import{T as M,a as A,b as v,c,d as R,e as i}from"./table-DFCVlvo9.js";import{M as $}from"./ModalDelete-B09Nnbh8.js";import{L as G}from"./label-Ba-SXc1-.js";import{e as B}from"./card-BGXav7l3.js";import"./WarningIcons-8wwvLZAV.js";import"./index-UgU33mmj.js";function P(){const[C,y]=a.useState([]),[d,u]=a.useState(null),[t,m]=a.useState(!1),[p,x]=a.useState(""),[h,f]=a.useState(""),[E,g]=a.useState(!1);a.useEffect(()=>{n.get(`${l}/grupo-turnos`).then(s=>{y(s.data)}).catch(s=>{console.log(s)})},[t]);const S=s=>{s.preventDefault(),n.post(`${l}/grupo-turno`,{codigo:p,nombre:h}).then(r=>{console.log(r.data),r.status===201&&(o.success("El área se creo correctamente",{description:"Área creada"}),x(""),f(""),m(!t))}).catch(r=>{console.log(r),o.error(r.response.data.message||"Error ",{description:"Error al crear el área"})})},w=()=>{d!==null&&n.delete(`${l}/grupo-turno/${d}`).then(s=>{s.status===200&&(o.success("El área se eliminó correctamente",{description:"Área eliminada"}),m(!t))}).catch(s=>{var r,T;console.log(s),o.error(((T=(r=s.response)==null?void 0:r.data)==null?void 0:T.message)||"Error",{description:"Error al eliminar el Grupo Turno"})}).finally(()=>{j()})},I=s=>{u(s),g(!0)},j=()=>{g(!1),u(null)};return e.jsxs("section",{className:"p-1 flex flex-col h-screen",children:[e.jsx("h1",{className:"text-2xl text-center text-gray-700 dark:text-gray-200 font-semibold mb-1",children:"Gestionar Grupos"}),e.jsx(D,{}),e.jsx("div",{className:"h-[80vh] overflow-y-auto",children:e.jsxs(M,{children:[e.jsx(A,{children:e.jsxs(v,{children:[e.jsx(c,{children:"Código"}),e.jsx(c,{children:"Grupo Turno"}),e.jsx(c,{children:"Opciones"})]})}),e.jsx(R,{children:C.map(s=>e.jsxs(v,{children:[e.jsx(i,{children:s.codigo}),e.jsx(i,{children:s.descripcion}),e.jsx(i,{children:e.jsx(b,{variant:"secondary",className:" hover:bg-red-200",onClick:()=>I(s.id),children:"Eliminar"})})]},s.id))})]})}),e.jsx(B,{className:"p-4",children:e.jsxs("form",{className:"flex items-center gap-2 w-full",onSubmit:S,children:[e.jsx(G,{className:"min-w-12",children:"Código:"}),e.jsx(N,{type:"text",className:"w-28",placeholder:"01, 12, 35 ...",value:p,onChange:s=>x(s.target.value)}),e.jsx(G,{className:"min-w-36",children:"Nombre Grupo Turno:"}),e.jsx(N,{type:"text",className:"w-80",placeholder:"Informatica, Administracion, Cartera ...",value:h,onChange:s=>f(s.target.value)}),e.jsx("div",{className:"flex items-center gap-2 ml-auto",children:e.jsx(b,{type:"submit",title:"crear grupo turno",variant:"secondary",className:"hover:bg-green-200",children:"Crear Grupo Turno"})})]})}),E&&e.jsx($,{funAction:w,onCancel:j})]})}export{P as default};
