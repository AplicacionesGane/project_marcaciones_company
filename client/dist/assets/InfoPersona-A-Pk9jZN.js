import{h as v,r as d,u as w,d as p,U as x,j as r,S as N,B as b,J as n}from"./index-ByYEY0NG.js";function _(){const{id:l}=v(),[t,i]=d.useState({id:0,identificacion:"",nombres:"",apellidos:"",id_Areas:0,id_Cargo:0,id_Grupo_Horario:0}),[a,h]=d.useState(null),m=w(),[f,y]=d.useState(!1);d.useEffect(()=>{p.get(`${x}/persona/${l}`).then(e=>{e.status===200&&(h(e.data),e.data.persona&&i(e.data.persona))}).catch(e=>console.log(e))},[l,f]);const g=e=>{const{name:s,value:o}=e.target;i(u=>({...u,[s]:o}))},c=e=>{const{name:s,value:o}=e.target;i(u=>({...u,[s]:parseInt(o)}))},k=e=>{e.preventDefault();const s={...t};p.patch(`${x}/persona`,{fields:s,id:l}).then(o=>{o.status===200&&(n.success("Datos actualizados correctamente",{description:"Los datos del empleado han sido actualizados"}),setTimeout(()=>{y(!f)},3e3))}).catch(o=>{console.log(o),n.error("Error al actualizar datos",{description:"Ocurrió un error al intentar actualizar los datos del empleado"})})},j=()=>{p.patch(`${x}/deletepersona`,{estado:"R",id:l}).then(e=>{e.status===200&&(n.success("Usuario Eliminado Correctamente",{description:"Empleado actualizado, será refirigido a lista empleados"}),setTimeout(()=>{m("/empleados")},4e3))}).catch(e=>{console.log(e),n.error("Error al actualizar datos",{description:"Ocurrió un error al intentar actualizar los datos del empleado"})})};return r.jsxs("section",{className:"flex flex-col items-center justify-center h-full relative",children:[r.jsxs("form",{className:"flex",onSubmit:k,children:[r.jsxs("section",{className:"w-96 mx-auto px-4",children:[r.jsx("h2",{className:"pb-6 text-center font-semibold text-2xl",children:"Datos Básicos Empleado"}),r.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[r.jsx("input",{type:"text",name:"nombres",value:t.nombres,id:"nombres",onChange:e=>g(e),className:"block py-2.5 px-0 w-full text-xl text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer",placeholder:" ",required:!0}),r.jsx("label",{htmlFor:"nombres",className:"peer-focus:font-medium absolute text-xl text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Nombres"})]}),r.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[r.jsx("input",{type:"text",name:"apellidos",value:t.apellidos,id:"apellidos",onChange:e=>g(e),className:"block py-2.5 px-0 w-full text-xl text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer",placeholder:" ",required:!0}),r.jsx("label",{htmlFor:"apellidos",className:"peer-focus:font-medium absolute text-xl text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Apellidos"})]}),r.jsx("div",{className:"grid md:grid-cols-2 md:gap-6",children:r.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[r.jsx("input",{type:"text",value:t.identificacion,readOnly:!0,id:"identificacion",className:"block py-2.5 px-0 w-full text-xl text-gray-900 bg-transparent border-0 border-b-2 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 border-blue-600 peer",placeholder:" ",required:!0}),r.jsx("label",{className:"peer-focus:font-medium absolute text-xl dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Identificación"})]})})]}),r.jsx(N,{orientation:"vertical"}),r.jsxs("section",{className:"w-96 mx-auto px-4",children:[r.jsxs("div",{className:"w-full mb-5 group",children:[r.jsx("label",{htmlFor:"id_Areas",className:"block mb-2 text-xl font-medium text-gray-900 dark:text-white",children:"Área Empleado"}),r.jsxs("select",{id:"id_Areas",name:"id_Areas",value:t.id_Areas||0,onChange:e=>c(e),className:"bg-gray-50 border border-gray-300 text-gray-900 text-xl rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",children:[r.jsx("option",{value:0,disabled:!0,children:"Seleccione Área"}),a==null?void 0:a.options.Areas.map(e=>r.jsx("option",{value:e.id,children:e.descripcion},e.id))]})]}),r.jsxs("div",{className:"w-full mb-5 group",children:[r.jsx("label",{htmlFor:"id_Cargo",className:"block mb-2 text-xl font-medium text-gray-900 dark:text-white",children:"Cargo Empleado"}),r.jsxs("select",{id:"id_Cargo",name:"id_Cargo",value:t.id_Cargo||0,onChange:e=>c(e),className:"bg-gray-50 border border-gray-300 text-gray-900 text-xl rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",children:[r.jsx("option",{value:0,disabled:!0,children:"Seleccione Cargo"}),a==null?void 0:a.options.Cargos.map(e=>r.jsx("option",{value:e.ID,children:e.descripcion},e.ID))]})]}),r.jsxs("div",{className:"w-full mb-5 group",children:[r.jsx("label",{className:"block mb-2 text-xl font-medium text-gray-900 dark:text-white",children:"Grupo Asignado Empleado"}),r.jsxs("select",{id:"id_Grupo_Horario",name:"id_Grupo_Horario",value:t.id_Grupo_Horario||0,onChange:e=>c(e),className:"bg-gray-50 border border-gray-300 text-gray-900 text-xl rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",children:[r.jsx("option",{value:0,disabled:!0,children:"Seleccione Grupo"}),a==null?void 0:a.options.GruposHorario.map(e=>r.jsx("option",{value:e.id,children:e.descripcion},e.id))]})]}),r.jsx(b,{className:"",type:"submit",children:r.jsx("span",{children:"Guardar Información"})})]})]}),r.jsx(b,{className:"absolute bottom-2 left-2",onClick:()=>j(),children:r.jsx("span",{children:"Eliminar Empleado"})}),r.jsx(b,{className:"absolute bottom-2 right-2",onClick:()=>m("/empleados"),children:r.jsx("span",{children:"Cancelar"})})]})}export{_ as default};
