import{_ as h,r as i,j as s,b as j,I as n,B as g,$ as f,d as C,a0 as v,a1 as N,J as o}from"./index-ByYEY0NG.js";import{e as b,C as w,a as I,b as L,c as y}from"./card-CtS-igbm.js";import{L as d}from"./label-bYpcweDo.js";import"./index-DKJkQS74.js";function F({className:l,...c}){const{setIsAuthenticated:u}=h(),[r,p]=i.useState(""),[t,m]=i.useState(""),x=a=>{a.preventDefault(),C.post(`${v}/login`,{username:r,password:t,app:N}).then(e=>{e.status===200&&u(!0)}).catch(e=>{if(console.log(e),e.message==="Network Error"){o.error("Error de conexión, y/o Red, contacte al administrador del sistema",{description:"No se pudo iniciar session"});return}if(e.response.status===400||e.response.status===401){o.error(e.response.data.message,{description:e.response.data.description});return}})};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:j("flex flex-col gap-6",l),...c,children:s.jsxs(b,{children:[s.jsxs(w,{children:[s.jsx(I,{className:"text-2xl",children:"Iniciar Sesión"}),s.jsx(L,{children:"Ingrese su usuario y contraseña para acceder."})]}),s.jsx(y,{children:s.jsx("form",{onSubmit:x,children:s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(d,{htmlFor:"username",children:"Usuario:"}),s.jsx(n,{id:"username",type:"text",placeholder:"CP1118*******",value:r,onChange:a=>p(a.target.value),required:!0})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx("div",{className:"flex items-center",children:s.jsx(d,{htmlFor:"password",children:"Contraseña:"})}),s.jsx(n,{id:"password",type:"password",placeholder:"•••••••••",value:t,onChange:a=>m(a.target.value),required:!0})]}),s.jsx(g,{type:"submit",className:"w-full",children:"Login"})]})})})]})}),s.jsx(f,{duration:4e3,position:"top-right",richColors:!0,visibleToasts:3})]})}export{F as LoginForm};
